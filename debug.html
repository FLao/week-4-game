<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery.js"></script>
</head>
<body>


<div class="characters">
<h1>Select your Star Wars Hero or Villain!</h1>
    <div id="character1">Luke Skywalker<img class="choose1" src="luke-skywalker.png"></div>
        <div id="character2">Princess Leia<img class="choose2" src="princess-leia.png"></div>
            <div id="character3">Darth Vader<img class="choose3" src="darth-vader.png"></div>
                <div id="character4">Stormtrooper<img class="choose4" src="stormtrooper.png"></div>
</div>

<div class="defenders">
<h1>Select your enemy!</h1>
</div>

<div class="defenders1">
<h1>Enemy</h1></div>

<div class="defeated">
</div>

<button class="attack" type="button">Attack</button>
<div class="new"></div>

<script type="text/javascript">

$(document).ready(function(){ // triggers the following script soon as the document is loaded //

// characterSelect();

//    function characterSelect() {

        var playerChosen = false;
        var enemyChosen = false;

        $(".choose1").on("click", function(){
            if (playerChosen === false) {
                document.querySelector(".choose1").style.border = "1px solid green";
                document.querySelector(".choose2").style.backgroundColor = "red";
                document.querySelector(".choose3").style.backgroundColor = "red";
                document.querySelector(".choose4").style.backgroundColor = "red";
                $("#character2").appendTo(".defenders");
                $("#character3").appendTo(".defenders");
                $("#character4").appendTo(".defenders");
                playerChosen = true;
                characterOne.isPlayer = true;
        } 

            else if(playerChosen === true && enemyChosen === false) {
                $("#character1").appendTo(".defenders1");
                document.querySelector(".choose1").style.border = "1px solid green";
                document.querySelector(".choose1").style.backgroundColor = "transparent";
                enemyChosen = true;
                characterOne.isEnemy = true;
            }
        });

        $(".choose2").on("click", function(){
            if (playerChosen === false) {
                document.querySelector(".choose2").style.border = "1px solid green";
                document.querySelector(".choose1").style.backgroundColor = "red";
                document.querySelector(".choose3").style.backgroundColor = "red";
                document.querySelector(".choose4").style.backgroundColor = "red";
                $("#character1").appendTo(".defenders");
                $("#character3").appendTo(".defenders");
                $("#character4").appendTo(".defenders");
                playerChosen = true;
                characterTwo.isPlayer = true;
            }

            else if (playerChosen === true && enemyChosen === false) {
                $("#character2").appendTo(".defenders1");
                document.querySelector(".choose2").style.border = "1px solid green";
                document.querySelector(".choose2").style.backgroundColor = "transparent";
                enemyChosen = true;
                characterTwo.isEnemy = true;
            }
        });

        $(".choose3").on("click", function(){
            if (playerChosen === false) {
                document.querySelector(".choose3").style.border = "1px solid green";
                document.querySelector(".choose2").style.backgroundColor = "red";
                document.querySelector(".choose1").style.backgroundColor = "red";
                document.querySelector(".choose4").style.backgroundColor = "red";
                $("#character1").appendTo(".defenders");
                $("#character2").appendTo(".defenders");
                $("#character4").appendTo(".defenders");
                playerChosen = true;
                characterThree.isPlayer = true;
            }

            else if(playerChosen === true && enemyChosen === false) {
                $("#character3").appendTo(".defenders1");
                document.querySelector(".choose3").style.border = "1px solid green";
                document.querySelector(".choose3").style.backgroundColor = "transparent";
                enemyChosen = true;
                characterThree.isEnemy = true;
            }
        });

        $(".choose4").on("click", function() {
            if (playerChosen === false) {
                document.querySelector(".choose4").style.border = "1px solid green";
                document.querySelector(".choose2").style.backgroundColor = "red";
                document.querySelector(".choose3").style.backgroundColor = "red";
                document.querySelector(".choose1").style.backgroundColor = "red";
                $("#character1").appendTo(".defenders");
                $("#character2").appendTo(".defenders");
                $("#character3").appendTo(".defenders");
                playerChosen = true;
                characterFour.isPlayer = true;
            }

            else if(playerChosen === true && enemyChosen === false) {
                $("#character4").appendTo(".defenders1");
                document.querySelector(".choose4").style.border = "1px solid green";
                document.querySelector(".choose4").style.backgroundColor = "transparent";
                enemyChosen = true;
                characterFour.isEnemy = true;
            }
        });
    

    function characterOneVersus() {
         // characterOne versus everybody else
        if((characterTwo.isEnemy === true) && (characterTwo.isDefeated === false)) {
            characterOne.performAttack(characterTwo.name);
            characterTwo.getHealthPoints(characterOne.attackPower);

            if(characterTwo.isDefeated === false) {
                characterTwo.performCounterAttack(characterOne.name);
                characterOne.getHealthPoints(characterTwo.counterAttackPower);
            }
            
            characterOne.increaseAttackPower();
        }

        else if((characterThree.isEnemy === true) && (characterThree.isDefeated === false)) {
            characterOne.performAttack(characterThree.name);
            characterThree.getHealthPoints(characterOne.attackPower);

            if(characterThree.isDefeated === false) {
                characterThree.performCounterAttack(characterOne.name);
                characterOne.getHealthPoints(characterThree.counterAttackPower);
            }
            
            characterOne.increaseAttackPower();
        }

        else if((characterFour.isEnemy === true) && (characterFour.isDefeated === false)) {
            characterOne.performAttack(characterFour.name);
            characterFour.getHealthPoints(characterOne.attackPower);

            if(characterFour.isDefeated === false) {
                characterFour.performCounterAttack(characterOne.name);
                characterOne.getHealthPoints(characterFour.counterAttackPower);
            }
            
            characterOne.increaseAttackPower();
        }

        else 
            console.log("There is no enemy to attack.");
    }

    function characterTwoVersus() {
    // characterTwo versus everybody else
        if((characterOne.isEnemy === true) && (characterOne.isDefeated === false)) {
            characterTwo.performAttack(characterOne.name);
            characterOne.getHealthPoints(characterTwo.attackPower);
            
            if(characterOne.isDefeated === false) {
                characterOne.performCounterAttack(characterTwo.name);
                characterTwo.getHealthPoints(characterOne.counterAttackPower);
            }
            
            characterTwo.increaseAttackPower();
        }

        else if((characterThree.isEnemy === true) && (characterThree.isDefeated === false)) {
            characterTwo.performAttack(characterThree.name);
            characterThree.getHealthPoints(characterTwo.attackPower);

            if(characterThree.isDefeated === false) {    
                characterThree.performCounterAttack(characterTwo.name);
                characterTwo.getHealthPoints(characterThree.counterAttackPower);
            }
            
            characterTwo.increaseAttackPower();
        }

        else if((characterFour.isEnemy === true) && (characterFour.isDefeated === false)) {
            characterTwo.performAttack(characterFour.name);
            characterFour.getHealthPoints(characterTwo.attackPower);
            
            if(characterFour.isDefeated === false) {
                characterFour.performCounterAttack(characterTwo.name);
                characterTwo.getHealthPoints(characterFour.counterAttackPower);
            }
            
            characterTwo.increaseAttackPower();
        }

        else 
            console.log("There is no enemy to attack.");
    }

    function characterThreeVersus() {
    // characterThree versus everybody else
        if((characterOne.isEnemy === true) && (characterOne.isDefeated === false)) {
            characterThree.performAttack(characterOne.name);
            characterOne.getHealthPoints(characterThree.attackPower);

            if(characterOne.isDefeated === false) {
                characterOne.performCounterAttack(characterThree.name);
                characterThree.getHealthPoints(characterOne.counterAttackPower);
            }
            
            characterThree.increaseAttackPower();
        }

        else if((characterThree.isPlayer === true) && (characterTwo.isEnemy === true) && (characterTwo.isDefeated === false)) {
            characterThree.performAttack(characterTwo.name);
            characterTwo.getHealthPoints(characterThree.attackPower);
            
            if(characterTwo.isDefeated === false) {
                characterTwo.performCounterAttack(characterThree.name);
                characterThree.getHealthPoints(characterTwo.counterAttackPower);
            }

            characterThree.increaseAttackPower();
        }

        else if((characterFour.isEnemy === true) && (characterFour.isDefeated === false)) {
            characterThree.performAttack(characterFour.name);
            characterFour.getHealthPoints(characterThree.attackPower);

            if(characterFour.isDefeated === false) {
                characterFour.performCounterAttack(characterThree.name);
                characterThree.getHealthPoints(characterFour.counterAttackPower);
            }
            
            characterThree.increaseAttackPower();
        }

        else 
            console.log("There is no enemy to attack.");
    }

    function characterFourVersus() {
        // characterFour versus everybody else
        if((characterOne.isEnemy === true) && (characterOne.isDefeated === false)) {
            characterFour.performAttack(characterOne.name);
            characterOne.getHealthPoints(characterFour.attackPower);
            
            if(characterOne.isDefeated === false) {
                characterOne.performCounterAttack(characterFour.name);
                characterFour.getHealthPoints(characterOne.counterAttackPower);
            }
            
            characterFour.increaseAttackPower();
        }

        else if((characterTwo.isEnemy === true) && (characterTwo.isDefeated === false)) {
            characterFour.performAttack(characterTwo.name);
            characterTwo.getHealthPoints(characterFour.attackPower);

            if(characterTwo.isDefeated === false) {
                characterTwo.performCounterAttack(characterFour.name);
                characterFour.getHealthPoints(characterTwo.counterAttackPower);
            }
            
            characterFour.increaseAttackPower();
        }

        else if((characterThree.isEnemy === true) && (characterThree.isDefeated === false)) {
            characterFour.performAttack(characterThree.name);
            characterThree.getHealthPoints(characterFour.attackPower);
            
            if(characterThree.isDefeated === false) {
                characterThree.performCounterAttack(characterFour.name);
                characterFour.getHealthPoints(characterThree.counterAttackPower);
            }
        
            characterFour.increaseAttackPower();
        }

        else 
            console.log("There is no enemy to attack.");
    }

    function checkGameOver() {
        if((characterOne.isPlayer === true) && (characterOne.isDefeated === true) || (characterTwo.isPlayer === true) && (characterTwo.isDefeated === true) || (characterThree.isPlayer === true) && (characterThree.isDefeated === true) || (characterFour.isPlayer === true) && (characterFour.isDefeated === true)) {
                console.log("Game over! Player loses!");
                restartGame();
        }
        else if((characterOne.isPlayer === true) && (characterTwo.isDefeated === true) && (characterThree.isDefeated === true) && (characterFour.isDefeated === true) || (characterTwo.isPlayer === true) && (characterOne.isDefeated === true) && (characterThree.isDefeated === true) && (characterFour.isDefeated === true) || (characterThree.isPlayer === true) && (characterOne.isDefeated === true) && (characterTwo.isDefeated === true) && (characterFour.isDefeated === true) || (characterFour.isPlayer === true) && (characterOne.isDefeated === true) && (characterTwo.isDefeated === true) && (characterThree.isDefeated === true)) {
                console.log("Congrats! Player wins!");
                restartGame();
        }

    //    else 
    //        characterSelect();
    }

    function resetEnemy() {
        enemyChosen = false;
    }

    function restartGame() {
        $(".new").append("<button type='button' class='restart'>Restart</button>");
        $(".restart").on("click", function() {
            location.reload();
       });
    }

    var characterOne = {
        name: "Luke Skywalker",
        healthPoints: 100,
        attackPower: 15,
        counterAttackPower: 15,
        isPlayer: false,
        isEnemy: false,
        isDefeated: false,

        increaseAttackPower: function() {
            this.attackPower += this.attackPower;    
        },

        getHealthPoints: function(damage) {
            this.healthPoints = this.healthPoints - damage;
            if(this.healthPoints <= 0) {
                console.log(this.name + "'s health points is now " + 0 + ".");
                this.isDefeated = true;
                $("#character1").remove();
                console.log(this.name + " is defeated.");
                resetEnemy();
                checkGameOver();
            }

            else 
                console.log(this.name + "'s health points is now " + this.healthPoints + ".");
        },

        performAttack: function(n) {
            console.log(this.name + " attacks " + n + " for " + this.attackPower + ".");
        },

        performCounterAttack: function(n) {
            console.log(this.name + " counterattacks " + n + " for " + this.counterAttackPower) + ".";
        }
    }

    var characterTwo = {
        name: "Princess Leia",
        healthPoints: 100,
        attackPower: 15,
        counterAttackPower: 15,
        isPlayer: false,
        isEnemy: false,
        isDefeated: false,

        increaseAttackPower: function() {
            this.attackPower += this.attackPower;    
        },

        getHealthPoints: function(damage) {
            this.healthPoints = this.healthPoints - damage;
            if(this.healthPoints <= 0) {
                console.log(this.name + "'s health points is now " + 0 + ".");
                this.isDefeated = true;
                $("#character2").remove();
                console.log(this.name + " is defeated.");
                resetEnemy();
                checkGameOver();
            }

            else 
                console.log(this.name + "'s health points is now " + this.healthPoints + ".");
        },

        performAttack: function(n) {
            console.log(this.name + " attacks " + n + " for " + this.attackPower + ".");
        },

        performCounterAttack: function(n) {
            console.log(this.name + " counterattacks " + n + " for " + this.counterAttackPower + ".");
        }
    }

    var characterThree = {
        name: "Darth Vader",
        healthPoints: 90,
        attackPower: 1,
        counterAttackPower: 15,
        isPlayer: false,
        isEnemy: false,
        isDefeated: false,

        increaseAttackPower: function() {
            this.attackPower += this.attackPower;    
        },

        getHealthPoints: function(damage) {
            this.healthPoints = this.healthPoints - damage;
            if(this.healthPoints <= 0) {
                console.log(this.name + "'s health points is now " + 0 + ".");
                this.isDefeated = true;
                $("#character3").remove();
                console.log(this.name + " is defeated.");
                resetEnemy();
                checkGameOver();
            }

            else 
                console.log(this.name + "'s health points is now " + this.healthPoints + ".");
        },

        performAttack: function(n) {
            console.log(this.name + " attacks " + n + " for " + this.attackPower + ".");
        },

        performCounterAttack: function(n) {
            console.log(this.name + " counterattacks " + n + " for " + this.counterAttackPower + ".");
        }
    }

    var characterFour = {
        name: "Stormtrooper",
        healthPoints: 70,
        attackPower: 3,
        counterAttackPower: 15,
        isPlayer: false,
        isEnemy: false,
        isDefeated: false,

        increaseAttackPower: function() {
            this.attackPower += this.attackPower;    
        },

        getHealthPoints: function(damage) {
            this.healthPoints = this.healthPoints - damage;
            if(this.healthPoints <= 0) {
                console.log(this.name + "'s health points is now " + 0 + ".");
                this.isDefeated = true;
               $("#character4").remove();
                console.log(this.name + " is defeated.");
                resetEnemy();
                checkGameOver();
            }

            else 
                console.log(this.name + "'s health points is now " + this.healthPoints + ".");
        },

        performAttack: function(n) {
            console.log(this.name + " attacks " + n + " for " + this.attackPower + ".");
        },

        performCounterAttack: function(n) {
            console.log(this.name + " counterattacks " + n + " for " + this.counterAttackPower + ".");
        }
    }

    $(".attack").on("click", function() {

        console.log("CLICKED attack");

        if(characterOne.isPlayer === true) 
            characterOneVersus();

        else if(characterTwo.isPlayer === true) 
            characterTwoVersus();

        else if(characterThree.isPlayer === true) 
            characterThreeVersus();

        else if(characterFour.isPlayer === true) 
            characterFourVersus();
    });
});

</script>

</body>
</html>